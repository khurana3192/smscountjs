(function(window){window=this||(0,eval)("this");window.SMS=function(e){if(this instanceof SMS===false){return new SMS(e)}var t=this,n=0,r=0,i=[],s=/^[@£\$¥èéùìòÇ\nØø\rÅåΔ_ΦΓΛΩΠΨΣΘΞÆæßÉ !\"#¤%&'\(\)\*\+,-\.\/0123456789:;<=>\?¡ABCDEFGHIJKLMNOPQRSTUVWXYZÄÖÑÜ§¿abcdefghijklmnopqrstuvwxyzäöñüà\f\^\{\}\\\[~\]|€]*$/g,o=/^[ÀÂâçÈÊêËëÎîÏïÔôŒœÙÛû«»₣„“”°@£\$¥èéùìòÇ\nØø\rÅåΔ_ΦΓΛΩΠΨΣΘΞÆæßÉ !\"#¤%&'\(\)\*\+,-\.\/0123456789:;<=>\?¡ABCDEFGHIJKLMNOPQRSTUVWXYZÄÖÑÜ§¿abcdefghijklmnopqrstuvwxyzäöñüà\f\^\{\}\\\[~\]|€]*$/g,u;var a=function(e,t){var n=e.slice(t),r=e.slice(0,t);if(r.length>0){i.push(e.slice(0,t))}if(n.length>0){a(n,t)}};t.options={_7bit:160,_8bit:140,_16bit:70};u=t.options._7bit;if(e!=="undefined"&&typeof e=="object"){for(var f in e){if(e.hasOwnProperty(f)){t.options[f]=e[f]}}}t.count=function(e,f){var l=s.test(e),c=o.test(e),h=e.length;u=l?t.options["_7bit"]:c?t.options["_8bit"]:t.options["_16bit"];i=[];n=Math.ceil(h/u);r=u-h%u;a(e,u);if(typeof f=="function"){f(n,r,i,u)}else if(f===undefined){return{totalSms:n,charsLeft:r,parts:i,limit:u}}return this};t.charsLeft=function(){return r};t.total=function(){return n};t.limit=function(){return u};t.parts=function(){return i};return t};String.prototype.smsCount=function(e,t){var n,r=this.concat();if(arguments.length==0){return this.concat()}if(arguments.length===1){n=new SMS;n.count(r,e)}else{n=new SMS(e);n.count(r,t)}return this.concat()}})(window)